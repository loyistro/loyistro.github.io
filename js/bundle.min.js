document.addEventListener("DOMContentLoaded",function(){const n=document.querySelectorAll(".category-tag"),a=document.querySelectorAll(".list-entry__title"),s=document.querySelectorAll(".list-entry"),o=document.querySelector(".category-empty-message");a.forEach(t=>{t.classList.add("visible"),e(t),t.style.display="flex"});function e(e){e.style.position="",e.style.visibility="",e.style.height="",e.style.margin="",e.style.padding="",e.style.overflow="",e.style.display="",e.style.opacity="",e.style.pointerEvents=""}function t(e){e.style.position="absolute",e.style.visibility="hidden",e.style.height="0",e.style.margin="0",e.style.padding="0",e.style.overflow="hidden",e.style.opacity="0",e.style.pointerEvents="none"}let i="all";n.forEach(a=>{a.addEventListener("click",function(){const a=this.getAttribute("data-category");if(i===a)return;i=a,n.forEach(e=>e.classList.remove("active")),this.classList.add("active");let r=0;if(a==="all")s.forEach(t=>{e(t);const s=t.querySelector(".list-entry__year");e(s);const n=t.querySelectorAll(".list-entry__title");n.forEach(t=>{e(t),t.style.display="flex",t.classList.add("visible"),t.classList.remove("category-transition")}),r+=n.length});else{const n=new Map;s.forEach(e=>{const s=e.querySelectorAll(".list-entry__title");let t=!1;s.forEach(e=>{const o=e.getAttribute("data-categories"),s=a==="all"||o.includes(a);n.set(e,s),s&&(t=!0,r++)}),n.set(e,t)}),n.forEach((n,s)=>{if(s.classList.contains("list-entry")){const o=s.querySelector(".list-entry__year");n?setTimeout(()=>{e(s),e(o),s.offsetHeight},200):setTimeout(()=>{t(s),t(o)},300)}else s.classList.add("category-transition"),n?setTimeout(()=>{e(s),s.style.display="flex",s.offsetHeight,setTimeout(()=>{s.classList.add("visible"),s.classList.remove("category-transition")},50)},200):(s.classList.remove("visible"),setTimeout(()=>{t(s),s.classList.remove("category-transition")},300))})}r===0?setTimeout(()=>{o.classList.add("visible")},300):o.classList.remove("visible"),document.getElementById("list-item").offsetHeight})})})